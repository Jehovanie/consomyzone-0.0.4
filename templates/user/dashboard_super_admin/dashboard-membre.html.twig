{% extends 'base.html.twig' %}

{% block title %}
	ConsoMyZone : Tribut G 
{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{asset('assets/css/account/account.css')}}">
{% endblock %}

{% block javascripts %}
    <script  src="{{ asset('assets/js/account/account.js') }}" defer></script>
{% endblock %}

{% block body %}
	<main>
		<div class="content_left_menu_account fixed-top mt-5 col">
			<div class="left_menu">
				{% include ("shard/account_navleft.html.twig" )%}
			</div>
		</div>
		<div class="fixed-top">
			{{ include('shard/account_navbar.html.twig') }}
		</div>

		<div class="row account">
			<center>
				<h1>
					<i class="fa-solid fa-users"></i>
					Liste des membres tribus G
				</h1>
			</center>

			<div class="container col content_global_super_admin ">
				{% if results|length is same as(0) %}
					<div class="text-center">
						<p class="mx-auto"> Pas encore de membre dans cette tribu G. </p>
						<hr />
						<p class="mx-auto">
							<a href="{{path("app_dashboard")}}">Retour à la liste des Tribus.</a>
						</p>
					</div>
				{% else %}
					<table class="table table-list-membre table-striped">
						<thead class="thead-dark">
							<tr>
								<th>Nom </th>
								<th>Prénom</th>
								<th>Email</th>
								<th>Adresse</th>
								<th>Roles</th>
								<th> </th>
							</tr>
						</thead>
						<tbody>
							{% for result in results %}
								<tr>
									<td>{{result.firstname}}</td>
									<td>{{result.lastname}}</td>
									<td>{{result.email}}</td>
									<td>{{result.commune}}</td>
									<td>
										{{result.roles|upper }}

										{{(result.roles is same as("fondateur") and result.isVerified is same as(false)) ? "<i class='fa-solid fa-triangle-exclamation text-danger'></i>" : "" }}
										{{(result.roles is same as("fondateur") and result.isVerified is same as(true)) ? "<i class='fa-solid fa-thumbs-up text-success'></i>" : ""}}
									
									</td>
									<td>
										<a href="{{path('app_dashboardapropos') ~ '?user_id=' ~ result.id }}" class="btn btn-primary">
											 {{(result.roles is same as("fondateur")) ? "Administré": "A propos" }}
										</a>
									</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				{% endif %}
			</div>
		</div>


	</main>


{% endblock %}
