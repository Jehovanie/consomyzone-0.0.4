{% extends 'base.html.twig' %}

{% block title %}
	ConsoMyZone : Tribut G 
{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{asset('assets/css/account/account.css')}}">
	<link rel="stylesheet" href="{{asset('assets/css/account/list_membre_tribuG_sp_respons.css')}}">
    <link rel="stylesheet" href="{{asset('assets/css/account/style.css')}}">
{% endblock %}

{% block javascripts %}
    <script  src="{{ asset('assets/js/account/account.js') }}" defer></script>
{% endblock %}

{% block body %}
<div class="nh">
	{% include 'shard/account_navleft_new.html.twig' %}
	{% include 'shard/account_navbar_new.html.twig' %}
	<!-- ===== Main Content Start ===== -->
	<main class="gv hm hv">
		<div class="sk bu 2xl:ud-p-11">


			<div class="row content_right_actualite">
				<center>
					<h1>
						<i class="fa-solid fa-users"></i>
						Liste des membres tribus G
					</h1>
				</center>

				<div class="container content_global_super_admin ">
					{% if results|length is same as(0) %}
						<div class="text-center">
							<p class="mx-auto"> Pas encore de membre dans cette tribu G. </p>
							<hr />
							<p class="mx-auto">
								<a href="{{path("app_dashboard")}}">Retour à la liste des Tribus.</a>
							</p>
						</div>
					{% else %}
						<div class="table-responsive">
							<table class="table table-striped">
								<thead class="thead-dark">
									<tr>
										<th>Nom </th>
										<th>Prénom</th>
										<th>Email</th>
										<th>Adresse</th>
										<th>Roles</th>
										<th> </th>
									</tr>
								</thead>
								<tbody>
									{% for result in results %}
										<tr>
											<td>{{result.firstname}}</td>
											<td>{{result.lastname}}</td>
											<td>{{result.email}}</td>
											<td>{{result.commune}}</td>
											<td>
												{{result.roles|upper }}

												{{(result.roles is same as("fondateur") and result.isVerified is same as(false)) ? "<i class='fa-solid fa-triangle-exclamation text-danger'></i>" : "" }}
												{{(result.roles is same as("fondateur") and result.isVerified is same as(true)) ? "<i class='fa-solid fa-thumbs-up text-success'></i>" : ""}}
											
											</td>
											<td>
												<a href="{{path('app_dashboardapropos') ~ '?user_id=' ~ result.id }}" class="btn btn-primary">
													{{(result.roles is same as("fondateur")) ? "Administré": "A propos" }}
												</a>
											</td>
										</tr>
									{% endfor %}
								</tbody>
							</table>
						</div>
					{% endif %}
				</div>
			</div>

		</div>
	</main>
		<!-- ===== Main Content End ===== -->
</div>


{% endblock %}
